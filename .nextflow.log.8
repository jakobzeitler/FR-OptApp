Dec-05 19:47:48.892 [main] DEBUG nextflow.cli.Launcher - $> nextflow run . --project_id 169 --opt_run_id 177 --token d6e31f6a2554c1de6ce75c397048a4b6c20b998d4f6b1b08683bdc417d786e04 --base_url 'https://mhs.ngrok.app/' -profile wave
Dec-05 19:47:48.959 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.10.0
Dec-05 19:47:48.972 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/Users/jakobzeitler/.nextflow/plugins; core-plugins: nf-amazon@2.1.4,nf-azure@1.3.2,nf-cloudcache@0.3.0,nf-codecommit@0.1.5,nf-console@1.0.6,nf-ga4gh@1.1.0,nf-google@1.8.3,nf-tower@1.6.3,nf-wave@1.0.0
Dec-05 19:47:48.978 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Dec-05 19:47:48.978 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Dec-05 19:47:48.980 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Dec-05 19:47:48.986 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Dec-05 19:47:49.434 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /Users/jakobzeitler/Documents/GitHub/FR-OptApp/nextflow.config
Dec-05 19:47:49.435 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /Users/jakobzeitler/Documents/GitHub/FR-OptApp/nextflow.config
Dec-05 19:47:49.448 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `wave`
Dec-05 19:47:49.497 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [slurm, dockerarm64, conda, dockeramd64, wave]
Dec-05 19:47:49.523 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Dec-05 19:47:49.535 [main] INFO  nextflow.cli.CmdRun - Launching `./main.nf` [kickass_heyrovsky] DSL2 - revision: cb98b5e9c4
Dec-05 19:47:49.535 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Dec-05 19:47:49.536 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[nf-wave@1.0.0]
Dec-05 19:47:49.536 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-wave version: 1.0.0
Dec-05 19:47:49.547 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-wave@1.0.0' resolved
Dec-05 19:47:49.547 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-wave@1.0.0'
Dec-05 19:47:49.559 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-wave@1.0.0
Dec-05 19:47:49.570 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /Users/jakobzeitler/.nextflow/secrets/store.json
Dec-05 19:47:49.573 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@65d8dff8] - activable => nextflow.secret.LocalSecretsProvider@65d8dff8
Dec-05 19:47:49.624 [main] DEBUG nextflow.Session - Session UUID: 4c45caa4-cc3e-4ca6-9760-30bab921fc38
Dec-05 19:47:49.625 [main] DEBUG nextflow.Session - Run name: kickass_heyrovsky
Dec-05 19:47:49.625 [main] DEBUG nextflow.Session - Executor pool size: 10
Dec-05 19:47:49.631 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Dec-05 19:47:49.634 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=30; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Dec-05 19:47:49.786 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.10.0 build 5889
  Created: 15-10-2023 15:07 UTC (16:07 BST)
  System: Mac OS X 13.0.1
  Runtime: Groovy 3.0.19 on OpenJDK 64-Bit Server VM 20.0.1
  Encoding: UTF-8 (UTF-8)
  Process: 22406@Jakobs-MacBook-Pro.local [127.0.0.1]
  CPUs: 10 - Mem: 32 GB (1.5 GB) - Swap: 1 GB (983.9 MB)
Dec-05 19:47:49.799 [main] DEBUG nextflow.Session - Work-dir: /Users/jakobzeitler/Documents/GitHub/FR-OptApp/work [Mac OS X]
Dec-05 19:47:49.799 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /Users/jakobzeitler/Documents/GitHub/FR-OptApp/bin
Dec-05 19:47:49.809 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Dec-05 19:47:49.817 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Dec-05 19:47:49.818 [main] DEBUG nextflow.Session - Observer factory: WaveFactory
Dec-05 19:47:49.847 [main] DEBUG io.seqera.wave.plugin.WaveClient - Wave config: WaveConfig(enabled:true, endpoint:https://wave.seqera.io, containerConfigUrl:[], tokensCacheMaxDuration:30m, condaOpts:CondaOpts(mambaImage=mambaorg/micromamba:1.5.1; basePackages=conda-forge::procps-ng, commands=USER root,RUN apt-get update -y && apt-get install -y procps), spackOpts:SpackOpts(basePackages=null, commands=null), strategy:[conda], bundleProjectResources:null, buildRepository:null, cacheRepository:null, retryOpts:RetryOpts(delay:450ms, maxDelay:1m 30s, maxAttempts:10, jitter:0.25), httpClientOpts:HttpOpts(), freezeMode:null, dryRunMode:false)
Dec-05 19:47:49.975 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Dec-05 19:47:49.983 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 11; maxThreads: 1000
Dec-05 19:47:50.058 [main] DEBUG nextflow.Session - Session start
Dec-05 19:47:50.240 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Dec-05 19:47:50.332 [main] INFO  nextflow.Nextflow - 
    M L - H Y P E R O P T   P I P E L I N E
    =======================================
    fetch_dataset   : true
    base_url  : https://mhs.ngrok.app/
    token           : d6e31f6a2554c1de6ce75c397048a4b6c20b998d4f6b1b08683bdc417d786e04
    project_id    : 169
    opt_run_id    : 177

    outdir          : results
    
Dec-05 19:47:50.394 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Dec-05 19:47:50.394 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Dec-05 19:47:50.399 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Dec-05 19:47:50.410 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=10; memory=32 GB; capacity=10; pollInterval=100ms; dumpInterval=5m
Dec-05 19:47:50.412 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Dec-05 19:47:50.473 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: fetch_dataset
Dec-05 19:47:50.473 [main] DEBUG nextflow.Session - Igniting dataflow network (1)
Dec-05 19:47:50.473 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > fetch_dataset
Dec-05 19:47:50.475 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_0cbab75d5a6bcd7d: /Users/jakobzeitler/Documents/GitHub/FR-OptApp/./modules/fetch_dataset/main.nf
  Script_d0379e74e4e6fa56: /Users/jakobzeitler/Documents/GitHub/FR-OptApp/main.nf
Dec-05 19:47:50.475 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Dec-05 19:47:50.475 [main] DEBUG nextflow.Session - Session await
Dec-05 19:47:50.521 [Actor Thread 3] DEBUG io.seqera.wave.plugin.WaveClient - Wave config: WaveConfig(enabled:true, endpoint:https://wave.seqera.io, containerConfigUrl:[], tokensCacheMaxDuration:30m, condaOpts:CondaOpts(mambaImage=mambaorg/micromamba:1.5.1; basePackages=conda-forge::procps-ng, commands=USER root,RUN apt-get update -y && apt-get install -y procps), spackOpts:SpackOpts(basePackages=null, commands=null), strategy:[conda], bundleProjectResources:null, buildRepository:null, cacheRepository:null, retryOpts:RetryOpts(delay:450ms, maxDelay:1m 30s, maxAttempts:10, jitter:0.25), httpClientOpts:HttpOpts(), freezeMode:null, dryRunMode:false)
Dec-05 19:47:50.586 [Actor Thread 3] DEBUG io.seqera.wave.plugin.WaveClient - Wave request: https://wave.seqera.io/container-token; attempt=1 - request: SubmitContainerTokenRequest(towerAccessToken:null, towerRefreshToken:null, towerWorkspaceId:null, towerEndpoint:https://api.tower.nf, workflowId:null, containerImage:null, containerFile:RlJPTSBtYW1iYW9yZy9taWNyb21hbWJhOjEuNS4xCkNPUFkgLS1jaG93bj0kTUFNQkFfVVNFUjokTUFNQkFfVVNFUiBjb25kYS55bWwgL3RtcC9jb25kYS55bWwKUlVOIG1pY3JvbWFtYmEgaW5zdGFsbCAteSAtbiBiYXNlIC1mIC90bXAvY29uZGEueW1sIFwKICAgICYmIG1pY3JvbWFtYmEgaW5zdGFsbCAteSAtbiBiYXNlIGNvbmRhLWZvcmdlOjpwcm9jcHMtbmcgXAogICAgJiYgbWljcm9tYW1iYSBjbGVhbiAtYSAteQpVU0VSIHJvb3QKVVNFUiByb290ClJVTiBhcHQtZ2V0IHVwZGF0ZSAteSAmJiBhcHQtZ2V0IGluc3RhbGwgLXkgcHJvY3BzCg==, containerConfig:ContainerConfig(entrypoint:null, cmd:null, env:null, workingDir:null, layers:[ContainerLayer[location=data:H4sIAAAAAAAA/+1aW28b...; tarDigest=sha256:85bbcf470fde30cb19ad91fedaadbd9eaf259b5a0383f4a85e566f3c6853f443; gzipDigest=sha256:7f9baad9553ee2facfcfb0f24dfe922eb435bcfcd14e1afd30ab6172be223daa; gzipSize=2025]]), condaFile:bmFtZTogTVNGbG93LUJvVG9yY2gKY2hhbm5lbHM6CiAgLSBkZWZhdWx0cwpkZXBlbmRlbmNpZXM6CiAgLSBweXRob249My4xMAogIC0gbnVtcHkKICAtIHBhbmRhcwogIC0gcGlwCiAgLSBnaXQKICAtIHBpcDoKICAgICAgLSBnaXQraHR0cHM6Ly9naXRodWJfcGF0XzExQkJJQlJWSTBuMFBYV09uTUtqVERfaU5SbEVlRm9GeWF1MlBvZWtNdjI1R256TUR2NEVyZkRSaDRCZVpIOXljODRNQVFGM01VUjR6NjVGM3hAZ2l0aHViLmNvbS9tYXR0ZXJob3JuLXN0dWRpby9NSFNhcGkuZ2l0CiAgICAgIC0gZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9weXRvcmNoL2JvdG9yY2guZ2l0CiAgICAgICMtIC1lIC9Vc2Vycy9qYWtvYnplaXRsZXIvTWF0dGVyaG9yblN0dWRpb0xvY2FsRGV2L01IU2FwaS9NSFNhcGkK, spackFile:null, containerPlatform:linux/amd64, buildRepository:null, cacheRepository:null, timestamp:2023-12-05T19:47:50.579158Z, fingerprint:0ade1af3aa62b72323cb0698b00ab69c, freeze:false, format:null, dryRun:false)
Dec-05 19:47:51.222 [Actor Thread 3] DEBUG io.seqera.wave.plugin.WaveClient - Wave response: statusCode=200; body={"containerToken":"38905cce2ee3","targetImage":"wave.seqera.io/wt/38905cce2ee3/wave/build:MSFlow-BoTorch--97fe0c5edd5ff7e1","expiration":"2023-12-07T07:47:51.232710827Z","containerImage":"195996028523.dkr.ecr.eu-west-1.amazonaws.com/wave/build:MSFlow-BoTorch--97fe0c5edd5ff7e1","buildId":"97fe0c5edd5ff7e1"}
Dec-05 19:47:51.303 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Dec-05 19:47:51.305 [Task submitter] INFO  nextflow.Session - [e7/0118fb] Submitted process > fetch_dataset (169)
Dec-05 19:52:42.538 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: fetch_dataset (169); status: COMPLETED; exit: 125; error: -; workDir: /Users/jakobzeitler/Documents/GitHub/FR-OptApp/work/e7/0118fbfa69620c13c913d122003e2b]
Dec-05 19:52:42.541 [Task monitor] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=fetch_dataset (169); work-dir=/Users/jakobzeitler/Documents/GitHub/FR-OptApp/work/e7/0118fbfa69620c13c913d122003e2b
  error [nextflow.exception.ProcessFailedException]: Process `fetch_dataset (169)` terminated with an error exit status (125)
Dec-05 19:52:42.547 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'fetch_dataset (169)'

Caused by:
  Process `fetch_dataset (169)` terminated with an error exit status (125)

Command executed:

  fetch-dataset.py --project_id 169 --opt_run_id 177 --token d6e31f6a2554c1de6ce75c397048a4b6c20b998d4f6b1b08683bdc417d786e04 --base_url https://mhs.ngrok.app/

Command exit status:
  125

Command output:
  (empty)

Command error:
  Unable to find image 'wave.seqera.io/wt/38905cce2ee3/wave/build:MSFlow-BoTorch--97fe0c5edd5ff7e1' locally
  2023/12/05 19:47:57 must use ASL logging (which requires CGO) if running as root
  docker: Error response from daemon: unknown: unable to retrieve container logs for containerd://0fca04265d75b1fa5a57fc0bc50de8cce341acfe4265897099d91d9a5b5b583c.
  See 'docker run --help'.

Work dir:
  /Users/jakobzeitler/Documents/GitHub/FR-OptApp/work/e7/0118fbfa69620c13c913d122003e2b

Tip: you can try to figure out what's wrong by changing to the process work dir and showing the script file named `.command.sh`
Dec-05 19:52:42.550 [main] DEBUG nextflow.Session - Session await > all processes finished
Dec-05 19:52:42.552 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `fetch_dataset (169)` terminated with an error exit status (125)
Dec-05 19:52:42.564 [main] DEBUG nextflow.Session - Session await > all barriers passed
Dec-05 19:52:42.564 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Dec-05 19:52:42.565 [main] INFO  nextflow.Nextflow - 
Oops .. something went wrong
Dec-05 19:52:42.568 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=4m 51s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=1; peakMemory=0; ]
Dec-05 19:52:42.768 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Dec-05 19:52:42.768 [main] INFO  org.pf4j.AbstractPluginManager - Stop plugin 'nf-wave@1.0.0'
Dec-05 19:52:42.768 [main] DEBUG nextflow.plugin.BasePlugin - Plugin stopped nf-wave
Dec-05 19:52:42.776 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
